<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
  </head>
  <body><dark-mode style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light" permanent="true"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"ðŸŒ’":"ðŸŒž";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h)}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.label.appendChild(this.icon);this.text=t.createElement("span");this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><script>const __TEMPLATE__ = document.createElement('template');
__TEMPLATE__.innerHTML = `
<style>

markdown-style h1:hover a.anchor .octicon-link:before,
markdown-style h2:hover a.anchor .octicon-link:before,
markdown-style h3:hover a.anchor .octicon-link:before,
markdown-style h4:hover a.anchor .octicon-link:before,
markdown-style h5:hover a.anchor .octicon-link:before,
markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}
[data-color-mode*='light'], [data-color-mode*='light'] body, markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; } [data-color-mode*='dark'], [data-color-mode*='dark'] body, markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; } markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } markdown-style details, markdown-style figcaption, markdown-style figure { display: block; } markdown-style summary { display: list-item; } markdown-style [hidden] { display: none !important; } markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } markdown-style a:active, markdown-style a:hover { outline-width: 0; } markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } markdown-style b, markdown-style strong { font-weight: 600; } markdown-style dfn { font-style: italic; } markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } markdown-style small { font-size: 90%; } markdown-style sub, markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } markdown-style sub { bottom: -0.25em; } markdown-style sup { top: -0.5em; } markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } markdown-style code, markdown-style kbd, markdown-style pre, markdown-style samp { font-family: monospace,monospace; font-size: 1em; } markdown-style figure { margin: 1em 40px; } markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } markdown-style [type=button], markdown-style [type=reset], markdown-style [type=submit] { -webkit-appearance: button; } markdown-style [type=button]::-moz-focus-inner, markdown-style [type=reset]::-moz-focus-inner, markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } markdown-style [type=button]:-moz-focusring, markdown-style [type=reset]:-moz-focusring, markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } markdown-style [type=checkbox], markdown-style [type=radio] { box-sizing: border-box; padding: 0; } markdown-style [type=number]::-webkit-inner-spin-button, markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } markdown-style [type=search]::-webkit-search-cancel-button, markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } markdown-style a:hover { text-decoration: underline; } markdown-style hr::before { display: table; content: ""; } markdown-style hr::after { display: table; clear: both; content: ""; } markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } markdown-style td, markdown-style th { padding: 0; } markdown-style details summary { cursor: pointer; } markdown-style details:not([open])>*:not(summary) { display: none !important; } markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } markdown-style h1, markdown-style h2, markdown-style h3, markdown-style h4, markdown-style h5, markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } markdown-style h3 { font-weight: 600; font-size: 1.25em; } markdown-style h4 { font-weight: 600; font-size: 1em; } markdown-style h5 { font-weight: 600; font-size: .875em; } markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } markdown-style p { margin-top: 0; margin-bottom: 10px; } markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } markdown-style ul, markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } markdown-style ol ol, markdown-style ul ol { list-style-type: lower-roman; } markdown-style ul ul ol, markdown-style ul ol ol, markdown-style ol ul ol, markdown-style ol ol ol { list-style-type: lower-alpha; } markdown-style dd { margin-left: 0; } markdown-style tt, markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } markdown-style input::-webkit-outer-spin-button, markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
markdown-style .token.comment, markdown-style .token.prolog, markdown-style .token.doctype, markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } markdown-style .token.namespace { opacity: 0.7; } markdown-style .token.tag, markdown-style .token.selector, markdown-style .token.constant, markdown-style .token.symbol, markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } markdown-style .token.property-access, markdown-style .token.operator, markdown-style .token.boolean, markdown-style .token.number, markdown-style .token.selector markdown-style .token.class, markdown-style .token.attr-name, markdown-style .token.string, markdown-style .token.char, markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } markdown-style .token.entity, markdown-style .token.url, .language-css markdown-style .token.string, .style markdown-style .token.string { color: var(--color-prettylights-syntax-string); } markdown-style .token.color, markdown-style .token.atrule, markdown-style .token.attr-value, markdown-style .token.function, markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } markdown-style .token.rule, markdown-style .token.regex, markdown-style .token.important, markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } markdown-style .token.important, markdown-style .token.bold { font-weight: bold; } markdown-style .token.italic { font-style: italic; } markdown-style .token.entity { cursor: help; }
markdown-style [data-catalyst] { display: block; } markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } markdown-style g-emoji img { width: 1em; height: 1em; } markdown-style::before { display: table; content: ""; } markdown-style::after { display: table; clear: both; content: ""; } markdown-style>*:first-child { margin-top: 0 !important; } markdown-style>*:last-child { margin-bottom: 0 !important; } markdown-style a:not([href]) { color: inherit; text-decoration: none; } markdown-style .absent { color: var(--color-danger-fg); } markdown-style a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } markdown-style a.anchor:focus { outline: none; } markdown-style p, markdown-style blockquote, markdown-style ul, markdown-style ol, markdown-style dl, markdown-style table, markdown-style pre, markdown-style details { margin-top: 0; margin-bottom: 16px; } markdown-style blockquote>:first-child { margin-top: 0; } markdown-style blockquote>:last-child { margin-bottom: 0; } markdown-style sup>a::before { content: "["; } markdown-style sup>a::after { content: "]"; }
markdown-style .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block; } markdown-style .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer; } markdown-style .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important; } markdown-style details.octicon-video:not([open])>*:not(summary) { display: none !important; } markdown-style details.octicon-video:not([open]) > summary { border-bottom: 0 !important; } markdown-style h1 .octicon-link, markdown-style h2 .octicon-link, markdown-style h3 .octicon-link, markdown-style h4 .octicon-link, markdown-style h5 .octicon-link, markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } markdown-style h1:hover .anchor, markdown-style h2:hover .anchor, markdown-style h3:hover .anchor, markdown-style h4:hover .anchor, markdown-style h5:hover .anchor, markdown-style h6:hover .anchor { text-decoration: none; } markdown-style h1:hover .anchor .octicon-link, markdown-style h2:hover .anchor .octicon-link, markdown-style h3:hover .anchor .octicon-link, markdown-style h4:hover .anchor .octicon-link, markdown-style h5:hover .anchor .octicon-link, markdown-style h6:hover .anchor .octicon-link { visibility: visible; } markdown-style h1 tt, markdown-style h1 code, markdown-style h2 tt, markdown-style h2 code, markdown-style h3 tt, markdown-style h3 code, markdown-style h4 tt, markdown-style h4 code, markdown-style h5 tt, markdown-style h5 code, markdown-style h6 tt, markdown-style h6 code { padding: 0 .2em; font-size: inherit; } markdown-style ul.no-list, markdown-style ol.no-list { padding: 0; list-style-type: none; } markdown-style ol[type="1"] { list-style-type: decimal; } markdown-style ol[type=a] { list-style-type: lower-alpha; } markdown-style ol[type=i] { list-style-type: lower-roman; } markdown-style div>ol:not([type]) { list-style-type: decimal; } markdown-style ul ul, markdown-style ul ol, markdown-style ol ol, markdown-style ol ul { margin-top: 0; margin-bottom: 0; } markdown-style li>p { margin-top: 16px; } markdown-style li+li { margin-top: .25em; } markdown-style dl { padding: 0; } markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } markdown-style table th { font-weight: 600; } markdown-style table th, markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } markdown-style table img { background-color: transparent; vertical-align: middle; } markdown-style img[align=right] { padding-left: 20px; } markdown-style img[align=left] { padding-right: 20px; } markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } markdown-style span.frame { display: block; overflow: hidden; } markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } markdown-style span.frame span img { display: block; float: left; } markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } markdown-style span.align-center { display: block; overflow: hidden; clear: both; } markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } markdown-style span.align-center span img { margin: 0 auto; text-align: center; } markdown-style span.align-right { display: block; overflow: hidden; clear: both; } markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } markdown-style span.align-right span img { margin: 0; text-align: right; } markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } markdown-style span.float-left span { margin: 13px 0 0; } markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } markdown-style code, markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } markdown-style code br, markdown-style tt br { display: none; } markdown-style del code { text-decoration: inherit; } markdown-style pre code { font-size: 100%; } markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } markdown-style pre code, markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } markdown-style pre > code { padding: 16px; overflow: auto; display: block; } markdown-style .csv-data td, markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } markdown-style .csv-data tr { border-top: 0; } markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } markdown-style .footnotes ol { padding-left: 16px; } markdown-style .footnotes li { position: relative; } markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } markdown-style .footnotes li:target { color: var(--color-fg-default); } markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } markdown-style .task-list-item { list-style-type: none; } markdown-style .task-list-item label { font-weight: 400; } markdown-style .task-list-item.enabled label { cursor: pointer; } markdown-style .task-list-item+.task-list-item { margin-top: 3px; } markdown-style .task-list-item .handle { display: none; } markdown-style .task-list-item-checkbox, markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }
</style>
<slot></slot>
`;
class MarkdownStyle extends HTMLElement {
    constructor() {
        super();
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(__TEMPLATE__.content.cloneNode(true));
        const style = Array.prototype.slice
            .call(this.shadow.children)
            .find((item) => item.tagName === 'STYLE');
        if (style) {
            const id = '__MARKDOWN_STYLE__';
            const findStyle = document.getElementById(id);
            if (!findStyle) {
                style.id = id;
                document.head.append(style);
            }
        }
    }
    get theme() {
        const value = this.getAttribute('theme');
        return value === null ? '' : value;
    }
    set theme(name) {
        this.setAttribute('theme', name);
    }
    connectedCallback() {
        if (!this.theme) {
            const { colorMode } = document.documentElement.dataset;
            this.theme = colorMode;
            const observer = new MutationObserver((mutationsList, observer) => {
                this.theme = document.documentElement.dataset.colorMode;
            });
            observer.observe(document.documentElement, { attributes: true });
            window.matchMedia('(prefers-color-scheme: light)').onchange = (event) => {
                this.theme = event.matches ? 'light' : 'dark';
            };
            window.matchMedia('(prefers-color-scheme: dark)').onchange = (event) => {
                this.theme = event.matches ? 'dark' : 'light';
            };
        }
    }
}
customElements.define('markdown-style', MarkdownStyle);</script><markdown-style style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px;" class="markdown-style">
    <h1 id="tinysystems-module-sdk"><a class="anchor" aria-hidden="true" tabindex="-1" href="#tinysystems-module-sdk"><span class="octicon octicon-link"></span></a>TinySystems Module SDK</h1>
    <p>A Kubebuilder-based Kubernetes operator SDK for building flow-based workflow engines. This SDK provides the complete infrastructure for developing modular operators that can be composed into visual workflows.</p>
    <h2 id="overview"><a class="anchor" aria-hidden="true" tabindex="-1" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h2>
    <p>TinySystems Module SDK enables developers to create <strong>module operators</strong> (like <code>common-module</code>, <code>http-module</code>, <code>grpc-module</code>) that bring specific functionality into a Kubernetes-native flow engine. Each module provides reusable components that can be connected through a port-based architecture to create complex workflows.</p>
    <h3 id="key-features"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-features"><span class="octicon octicon-link"></span></a>Key Features</h3>
    <ul>
      <li><strong>Port-Based Component Architecture</strong>: Visual programming model with input/output ports</li>
      <li><strong>JSON Schema-Driven Configuration</strong>: Automatic schema generation with UI hints</li>
      <li><strong>Message Routing &#x26; Retry Logic</strong>: Intelligent routing with exponential backoff</li>
      <li><strong>Multi-Module Communication</strong>: gRPC-based inter-module communication</li>
      <li><strong>Expression-Based Data Transformation</strong>: Mustache-style <code>{{expression}}</code> syntax with JSONPath for flexible data mapping</li>
      <li><strong>Kubernetes-Native</strong>: Everything is a CRD with standard controller patterns</li>
      <li><strong>OpenTelemetry Integration</strong>: Built-in observability with tracing and metrics</li>
      <li><strong>CLI Tools</strong>: Complete tooling for running and building modules</li>
    </ul>
    <h2 id="table-of-contents"><a class="anchor" aria-hidden="true" tabindex="-1" href="#table-of-contents"><span class="octicon octicon-link"></span></a>Table of Contents</h2>
    <ul>
      <li><a href="#overview">Overview</a></li>
      <li><a href="#architecture">Architecture</a>
        <ul>
          <li><a href="#core-concepts">Core Concepts</a></li>
          <li><a href="#sdk-components">SDK Components</a></li>
          <li><a href="#communication-patterns">Communication Patterns</a></li>
          <li><a href="#design-patterns">Design Patterns</a></li>
          <li><a href="#scalability">Scalability</a></li>
          <li><a href="#project-structure">Project Structure</a></li>
        </ul>
      </li>
      <li><a href="#getting-started">Getting Started</a></li>
      <li><a href="#helm-charts">Helm Charts</a></li>
      <li><a href="#development">Development</a>
        <ul>
          <li><a href="#running-on-the-cluster">Running on the Cluster</a></li>
          <li><a href="#test-it-out">Testing</a></li>
          <li><a href="#modifying-the-api-definitions">Modifying the API</a></li>
        </ul>
      </li>
      <li><a href="#module-development">Module Development</a>
        <ul>
          <li><a href="#quick-start">Quick Start</a></li>
          <li><a href="#component-interface-deep-dive">Component Interface</a></li>
          <li><a href="#configuration-schemas">Configuration Schemas</a></li>
          <li><a href="#system-ports">System Ports</a></li>
          <li><a href="#error-handling">Error Handling</a></li>
          <li><a href="#using-the-resource-manager">Resource Manager</a></li>
          <li><a href="#observability">Observability</a></li>
          <li><a href="#testing-components">Testing</a></li>
          <li><a href="#best-practices">Best Practices</a></li>
        </ul>
      </li>
      <li><a href="#contributing">Contributing</a></li>
      <li><a href="#license">License</a></li>
    </ul>
    <h2 id="architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#architecture"><span class="octicon octicon-link"></span></a>Architecture</h2>
    <h3 id="core-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#core-concepts"><span class="octicon octicon-link"></span></a>Core Concepts</h3>
    <p>The SDK is built around several key abstractions:</p>
    <h4 id="custom-resource-definitions-crds"><a class="anchor" aria-hidden="true" tabindex="-1" href="#custom-resource-definitions-crds"><span class="octicon octicon-link"></span></a>Custom Resource Definitions (CRDs)</h4>
    <ul>
      <li>
        <p><strong>TinyNode</strong>: Core execution unit representing a component instance in a flow</p>
        <ul>
          <li>Contains module name, version, component type, port configurations, and edges</li>
          <li>Status includes module/component info, port schemas, and error state</li>
        </ul>
      </li>
      <li>
        <p><strong>TinyModule</strong>: Registry of available modules for service discovery</p>
        <ul>
          <li>References container image</li>
          <li>Status contains module address (gRPC), version, and list of components</li>
        </ul>
      </li>
      <li>
        <p><strong>TinyFlow</strong>: Logical grouping of nodes representing a workflow</p>
        <ul>
          <li>Uses labels to associate nodes together</li>
        </ul>
      </li>
      <li>
        <p><strong>TinyProject</strong>: Top-level organizational unit grouping multiple flows</p>
      </li>
      <li>
        <p><strong>TinySignal</strong>: External trigger mechanism for node execution</p>
        <ul>
          <li>Specifies target node, port, and data payload</li>
          <li>Works like webhooks or manual triggers</li>
        </ul>
      </li>
      <li>
        <p><strong>TinyTracker</strong>: Execution monitoring for detailed tracing</p>
      </li>
      <li>
        <p><strong>TinyWidgetPage</strong>: Custom UI dashboard pages for visualization</p>
      </li>
    </ul>
    <h4 id="component-system"><a class="anchor" aria-hidden="true" tabindex="-1" href="#component-system"><span class="octicon octicon-link"></span></a>Component System</h4>
    <p>Components are the building blocks of workflows. Each component:</p>
    <ul>
      <li>Implements the <code>Component</code> interface (<code>module/component.go</code>)</li>
      <li>Defines <strong>ports</strong> for input/output with positions (Top/Right/Bottom/Left)</li>
      <li>Handles messages through the <code>Handle()</code> method</li>
      <li>Provides JSON Schema configuration for each port</li>
    </ul>
    <h4 id="message-flow"><a class="anchor" aria-hidden="true" tabindex="-1" href="#message-flow"><span class="octicon octicon-link"></span></a>Message Flow</h4>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">External Trigger (TinySignal)
</span><span class="code-line line-number" line="2">  â†’ TinySignal Controller
</span><span class="code-line line-number" line="3">    â†’ Scheduler.Handle()
</span><span class="code-line line-number" line="4">      â†’ Runner.MsgHandler()
</span><span class="code-line line-number" line="5">        â†’ Component.Handle()
</span><span class="code-line line-number" line="6">          â†’ output() callback
</span><span class="code-line line-number" line="7">            â†’ Next node via edges
</span></code><div onclick="copied(this)" data-code="External Trigger (TinySignal)
  â†’ TinySignal Controller
    â†’ Scheduler.Handle()
      â†’ Runner.MsgHandler()
        â†’ Component.Handle()
          â†’ output() callback
            â†’ Next node via edges
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="port-system"><a class="anchor" aria-hidden="true" tabindex="-1" href="#port-system"><span class="octicon octicon-link"></span></a>Port System</h4>
    <p>Ports enable component communication:</p>
    <ul>
      <li><strong>Source Ports</strong>: Output ports that send data</li>
      <li><strong>Target Ports</strong>: Input ports that receive data</li>
      <li><strong>System Ports</strong>:
        <ul>
          <li><code>_reconcile</code>: Triggers node reconciliation</li>
          <li><code>_client</code>: Receives Kubernetes client for resource operations</li>
          <li><code>_settings</code>: Configuration port</li>
          <li><code>_control</code>: Dashboard control port</li>
        </ul>
      </li>
    </ul>
    <p>Each port can have:</p>
    <ul>
      <li><strong>Configuration</strong>: JSON schema defining expected input structure</li>
      <li><strong>Response Configuration</strong>: Schema for output data structure</li>
    </ul>
    <h4 id="edge-configuration"><a class="anchor" aria-hidden="true" tabindex="-1" href="#edge-configuration"><span class="octicon octicon-link"></span></a>Edge Configuration</h4>
    <p>Edges connect ports between nodes and support data transformation using mustache-style expressions:</p>
    <p><strong>Expression Syntax</strong>: Use <code>{{expression}}</code> to evaluate JSONPath expressions against incoming data.</p>
    <pre class="language-json"><code class="language-json code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token property">"body"</span><span class="token operator">:</span> <span class="token string">"{{$.request.body}}"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  <span class="token property">"greeting"</span><span class="token operator">:</span> <span class="token string">"Hello {{$.user.name}}!"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  <span class="token property">"isAdmin"</span><span class="token operator">:</span> <span class="token string">"{{$.user.role == 'admin'}}"</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="{
  &#x22;body&#x22;: &#x22;{{$.request.body}}&#x22;,
  &#x22;statusCode&#x22;: 200,
  &#x22;greeting&#x22;: &#x22;Hello {{$.user.name}}!&#x22;,
  &#x22;isAdmin&#x22;: &#x22;{{$.user.role == &#x27;admin&#x27;}}&#x22;
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Expression Types</strong>:</p>
    <ul>
      <li><strong>Pure expression</strong> (<code>"{{$.field}}"</code>) - Returns the actual type (string, number, boolean, object)</li>
      <li><strong>Literal value</strong> (<code>"hello"</code>, <code>200</code>, <code>true</code>) - Static values passed through as-is</li>
      <li><strong>String interpolation</strong> (<code>"Hello {{$.name}}!"</code>) - Embeds expression results in strings</li>
      <li><strong>JSONPath with operators</strong> (<code>"{{$.count + 1}}"</code>, <code>"{{$.method == 'GET'}}"</code>) - Supports arithmetic and comparison</li>
    </ul>
    <p><strong>Key Features</strong>:</p>
    <ul>
      <li>Type preservation: <code>"{{$.count}}"</code> returns a number, not a string</li>
      <li>Graceful error handling: If source data is unavailable, expressions return <code>nil</code></li>
      <li>Full JSONPath support via <a href="https://github.com/spyzhov/ajson">ajson</a> library</li>
    </ul>
    <h3 id="sdk-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#sdk-components"><span class="octicon octicon-link"></span></a>SDK Components</h3>
    <p>The SDK provides several packages for module developers:</p>
    <h4 id="module---core-interfaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#module---core-interfaces"><span class="octicon octicon-link"></span></a><code>/module/</code> - Core Interfaces</h4>
    <ul>
      <li><code>Component</code>: Main interface for component implementation</li>
      <li><code>Port</code>: Port definitions and configuration</li>
      <li><code>Handler</code>: Callback function type for message routing</li>
    </ul>
    <h4 id="pkgresource---resource-manager"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pkgresource---resource-manager"><span class="octicon octicon-link"></span></a><code>/pkg/resource/</code> - Resource Manager</h4>
    <p>Unified Kubernetes client providing:</p>
    <ul>
      <li>Node/Module/Flow/Project CRUD operations</li>
      <li>Signal creation for triggering nodes</li>
      <li>Ingress/Service management for exposing ports</li>
      <li>Helm release management</li>
    </ul>
    <h4 id="pkgschema---json-schema-generator"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pkgschema---json-schema-generator"><span class="octicon octicon-link"></span></a><code>/pkg/schema/</code> - JSON Schema Generator</h4>
    <ul>
      <li>Automatic schema generation from Go structs</li>
      <li>Custom struct tags for UI hints: <code>configurable</code>, <code>shared</code>, <code>propertyOrder</code>, <code>tab</code>, <code>align</code></li>
      <li>Definition sharing and override mechanism</li>
    </ul>
    <h4 id="pkgevaluator---expression-evaluator"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pkgevaluator---expression-evaluator"><span class="octicon octicon-link"></span></a><code>/pkg/evaluator/</code> - Expression Evaluator</h4>
    <ul>
      <li>Mustache-style <code>{{expression}}</code> syntax processing</li>
      <li>JSONPath evaluation via ajson library</li>
      <li>Type-preserving evaluation (numbers stay numbers, booleans stay booleans)</li>
      <li>Graceful error handling when source data is unavailable</li>
    </ul>
    <h4 id="pkgmetrics---observability"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pkgmetrics---observability"><span class="octicon octicon-link"></span></a><code>/pkg/metrics/</code> - Observability</h4>
    <ul>
      <li>OpenTelemetry integration with spans</li>
      <li>Metrics (gauges, counters)</li>
      <li>Tracker system for flow execution monitoring</li>
    </ul>
    <h4 id="internalscheduler---message-routing"><a class="anchor" aria-hidden="true" tabindex="-1" href="#internalscheduler---message-routing"><span class="octicon octicon-link"></span></a><code>/internal/scheduler/</code> - Message Routing</h4>
    <ul>
      <li>Manages component instances</li>
      <li>Routes messages between nodes</li>
      <li>Handles cross-module communication via gRPC</li>
    </ul>
    <h4 id="internalclient---client-pool"><a class="anchor" aria-hidden="true" tabindex="-1" href="#internalclient---client-pool"><span class="octicon octicon-link"></span></a><code>/internal/client/</code> - Client Pool</h4>
    <ul>
      <li>Manages gRPC connections to other modules</li>
      <li>Connection pooling and lifecycle management</li>
    </ul>
    <h4 id="cli---command-line-tools"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cli---command-line-tools"><span class="octicon octicon-link"></span></a><code>/cli/</code> - Command-Line Tools</h4>
    <ul>
      <li><code>run</code>: Complete operator runtime</li>
      <li><code>build</code>: Module building and publishing</li>
    </ul>
    <h3 id="communication-patterns"><a class="anchor" aria-hidden="true" tabindex="-1" href="#communication-patterns"><span class="octicon octicon-link"></span></a>Communication Patterns</h3>
    <h4 id="same-module-communication"><a class="anchor" aria-hidden="true" tabindex="-1" href="#same-module-communication"><span class="octicon octicon-link"></span></a>Same-Module Communication</h4>
    <p>When nodes belong to the same module, messages are routed directly through the scheduler for optimal performance.</p>
    <h4 id="cross-module-communication"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cross-module-communication"><span class="octicon octicon-link"></span></a>Cross-Module Communication</h4>
    <p>When nodes belong to different modules:</p>
    <ol>
      <li>Scheduler identifies the target module via TinyModule CRD</li>
      <li>Client pool establishes/reuses gRPC connection</li>
      <li>Message is sent to target module's gRPC server</li>
      <li>Target module's scheduler routes to the appropriate component</li>
    </ol>
    <h4 id="retry-mechanism"><a class="anchor" aria-hidden="true" tabindex="-1" href="#retry-mechanism"><span class="octicon octicon-link"></span></a>Retry Mechanism</h4>
    <ul>
      <li><strong>Transient Errors</strong>: Exponential backoff (1s â†’ 30s max)</li>
      <li><strong>Permanent Errors</strong>: Marked via <code>PermanentError</code> wrapper to stop retries</li>
      <li>Context cancellation stops all retries</li>
    </ul>
    <h3 id="design-patterns"><a class="anchor" aria-hidden="true" tabindex="-1" href="#design-patterns"><span class="octicon octicon-link"></span></a>Design Patterns</h3>
    <ol>
      <li><strong>Eventual Consistency with Reconciliation</strong>: Periodic reconciliation (every 5 minutes) plus signal-based immediate updates</li>
      <li><strong>Leader Election with Metadata Sync</strong>: Leader handles metadata updates for control operations; all pods execute node logic and sync state from TinyNode metadata</li>
      <li><strong>Schema-Driven Configuration</strong>: Go structs automatically generate JSON schemas for UI integration</li>
      <li><strong>Expression-Based Transformation</strong>: Mustache-style <code>{{expression}}</code> syntax with JSONPath enables flexible data mapping without code changes</li>
      <li><strong>Definition Sharing</strong>: Components mark fields as <code>shared:true</code> or <code>configurable:true</code> for cross-node type safety</li>
    </ol>
    <h3 id="scalability"><a class="anchor" aria-hidden="true" tabindex="-1" href="#scalability"><span class="octicon octicon-link"></span></a>Scalability</h3>
    <p>The SDK implements a <strong>metadata-synchronization</strong> pattern that enables horizontal scaling of module operators while maintaining consistency across replicas.</p>
    <h4 id="core-scalability-mechanism"><a class="anchor" aria-hidden="true" tabindex="-1" href="#core-scalability-mechanism"><span class="octicon octicon-link"></span></a>Core Scalability Mechanism</h4>
    <p><strong>Leader Election (for TinySignal processing):</strong></p>
    <ul>
      <li>Uses Kubernetes native leader election via <code>k8s.io/client-go/tools/leaderelection</code> with Lease resources</li>
      <li>Configuration: 15s lease duration, 10s renew deadline, 2s retry period</li>
      <li>Each pod identifies itself using the <code>HOSTNAME</code> environment variable</li>
      <li>Leadership state tracked via <code>isLeader</code> and <code>leadershipKnown</code> atomic booleans</li>
      <li><strong>Purpose</strong>: TinySignal broadcasts reconcile events to ALL pods; only leader processes them to avoid N-fold multiplication</li>
    </ul>
    <p><strong>Metadata as Source of Truth:</strong></p>
    <ul>
      <li>TinyNode <code>Status.Metadata</code> acts as distributed state store</li>
      <li>Any pod can update metadata (not just leader)</li>
      <li>All pods sync state from metadata via <code>ReconcilePort</code></li>
      <li>Non-leaders requeue reconciliation every 5 seconds for faster state sync</li>
    </ul>
    <p><strong>Two Message Delivery Patterns:</strong></p>
    <ol>
      <li><strong>TinySignal â†’ Reconcile</strong>: Broadcast to all pods, only leader processes</li>
      <li><strong>gRPC (inter-component)</strong>: Round-robin to any pod, receiving pod processes and updates CR</li>
    </ol>
    <h4 id="signal-component-scalability"><a class="anchor" aria-hidden="true" tabindex="-1" href="#signal-component-scalability"><span class="octicon octicon-link"></span></a>Signal Component Scalability</h4>
    <p>The Signal component (<code>common-module</code>) demonstrates leader filtering for TinySignal-triggered control operations.</p>
    <p><strong>Problem Solved:</strong> TinySignal broadcasts to all pods; control commands (Send/Reset) should execute once, not N times.</p>
    <p><strong>Why Leader Filtering Works Here:</strong></p>
    <ul>
      <li>Signal's control port accepts configurable input data</li>
      <li>Platform can create TinySignals targeting control ports with input types</li>
      <li>TinySignal â†’ reconcile â†’ all pods receive â†’ only leader processes</li>
    </ul>
    <p><strong>Implementation:</strong></p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// Only leader processes TinySignal-triggered control commands</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">if</span> <span class="token operator">!</span>utils<span class="token punctuation">.</span><span class="token function">IsLeader</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="// Only leader processes TinySignal-triggered control commands
if !utils.IsLeader(ctx) {
    return nil
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Metadata Keys:</strong></p>
    <ul>
      <li><code>signal-running</code>: Boolean string indicating if signal is active</li>
    </ul>
    <p><strong>Flow:</strong></p>
    <ol>
      <li>TinySignal created â†’ reconcile broadcast to all Signal pods</li>
      <li>Only leader pod processes the control command</li>
      <li>Leader updates <code>Status.Metadata["signal-running"] = "true"</code> via ReconcilePort handler</li>
      <li>All pods receive ReconcilePort event with updated TinyNode</li>
      <li>All pods sync their local <code>isRunning</code> state from metadata</li>
      <li>UI shows consistent state across all replicas</li>
    </ol>
    <p><strong>State Synchronization:</strong></p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">case</span> v1alpha1<span class="token punctuation">.</span>ReconcilePort<span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">if</span> node<span class="token punctuation">,</span> ok <span class="token operator">:=</span> msg<span class="token punctuation">.</span><span class="token punctuation">(</span>v1alpha1<span class="token punctuation">.</span>TinyNode<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        t<span class="token punctuation">.</span>isRunning <span class="token operator">=</span> node<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Metadata<span class="token punctuation">[</span><span class="token string">"signal-running"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"true"</span>
</span><span class="code-line line-number" line="4">    <span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="case v1alpha1.ReconcilePort:
    if node, ok := msg.(v1alpha1.TinyNode); ok {
        t.isRunning = node.Status.Metadata[&#x22;signal-running&#x22;] == &#x22;true&#x22;
    }
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Benefits:</strong></p>
    <ul>
      <li>Single execution of TinySignal-triggered commands (no N-fold multiplication)</li>
      <li>Consistent UI state across all pods</li>
      <li>Automatic state recovery on pod restart</li>
      <li>Context data preserved in component state</li>
    </ul>
    <h4 id="http-server-component-scalability"><a class="anchor" aria-hidden="true" tabindex="-1" href="#http-server-component-scalability"><span class="octicon octicon-link"></span></a>HTTP Server Component Scalability</h4>
    <p>The HTTP Server component (<code>http-module</code>) demonstrates gRPC round-robin with metadata sync.</p>
    <p><strong>Key Difference from Signal:</strong> HTTP Server's control port has no input type (buttons only), so platform cannot create TinySignals for it. Start requests arrive via gRPC from upstream components (e.g., Signal â†’ gRPC â†’ HTTP Server).</p>
    <p><strong>Problem Solved:</strong> Multiple replicas need to serve HTTP traffic while coordinating startup/shutdown when any pod can receive the start request.</p>
    <p><strong>Message Flow:</strong></p>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">TinySignal â†’ Signal (leader only) â†’ gRPC â†’ HTTP Server (any pod, round-robin)
</span></code><div onclick="copied(this)" data-code="TinySignal â†’ Signal (leader only) â†’ gRPC â†’ HTTP Server (any pod, round-robin)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Implementation:</strong></p>
    <p><strong>First Pod to Receive Start (becomes "initiator"):</strong></p>
    <ul>
      <li>Receives start request via gRPC (round-robin, could be any pod)</li>
      <li>Starts server and updates metadata with actual listening port</li>
      <li>Serializes full configuration to metadata for other pods</li>
    </ul>
    <p><strong>Other Pods (followers):</strong></p>
    <ul>
      <li>See metadata update via ReconcilePort</li>
      <li>Auto-discover port from metadata</li>
      <li>Restore configuration from serialized metadata</li>
      <li>Start their own server instance</li>
    </ul>
    <p><strong>Metadata Keys:</strong></p>
    <ul>
      <li><code>http-server-port</code>: The actual listening port (0 = stopped, >0 = running)</li>
      <li><code>http-server-config</code>: Serialized startup configuration (JSON)</li>
    </ul>
    <p><strong>Flow:</strong></p>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="2">â”‚         TinyNode Status.Metadata                    â”‚
</span><span class="code-line line-number" line="3">â”‚  - http-server-port: [actual-port or 0]             â”‚
</span><span class="code-line line-number" line="4">â”‚  - http-server-config: {serialized config}          â”‚
</span><span class="code-line line-number" line="5">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span class="code-line line-number" line="6">         â–²                                    â–²
</span><span class="code-line line-number" line="7">    updates first                        syncs &#x26; follows
</span><span class="code-line line-number" line="8">         â”‚                                    â”‚
</span><span class="code-line line-number" line="9">    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span class="code-line line-number" line="10">    â”‚  INITIATOR POD   â”‚          â”‚   FOLLOWER POD(s)      â”‚
</span><span class="code-line line-number" line="11">    â”‚  (receives gRPC) â”‚          â”‚  (sync from metadata)  â”‚
</span><span class="code-line line-number" line="12">    â”‚                  â”‚          â”‚                        â”‚
</span><span class="code-line line-number" line="13">    â”‚ - Starts server  â”‚          â”‚ - Auto-discovers port  â”‚
</span><span class="code-line line-number" line="14">    â”‚ - Updates meta   â”‚          â”‚ - Restores config      â”‚
</span><span class="code-line line-number" line="15">    â”‚ - Sets config    â”‚          â”‚ - Starts own server    â”‚
</span><span class="code-line line-number" line="16">    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code><div onclick="copied(this)" data-code="â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TinyNode Status.Metadata                    â”‚
â”‚  - http-server-port: [actual-port or 0]             â”‚
â”‚  - http-server-config: {serialized config}          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                                    â–²
    updates first                        syncs &#x26; follows
         â”‚                                    â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  INITIATOR POD   â”‚          â”‚   FOLLOWER POD(s)      â”‚
    â”‚  (receives gRPC) â”‚          â”‚  (sync from metadata)  â”‚
    â”‚                  â”‚          â”‚                        â”‚
    â”‚ - Starts server  â”‚          â”‚ - Auto-discovers port  â”‚
    â”‚ - Updates meta   â”‚          â”‚ - Restores config      â”‚
    â”‚ - Sets config    â”‚          â”‚ - Starts own server    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Stop Behavior:</strong></p>
    <ul>
      <li>Pod that initiated (listenPort was 0 at start) updates metadata to port=0 on stop</li>
      <li>Follower pods (listenPort > 0) only stop locally, don't modify metadata</li>
      <li>Restart flag prevents metadata corruption during restart sequences</li>
    </ul>
    <p><strong>Benefits:</strong></p>
    <ul>
      <li>Zero-downtime scaling (pods auto-discover and start from metadata)</li>
      <li>Configuration consistency (initiator's config distributed via metadata)</li>
      <li>Clean shutdown coordination (metadata ensures pod agreement)</li>
      <li>Automatic recovery (pods auto-restart from ReconcilePort)</li>
    </ul>
    <h4 id="implementing-scalable-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#implementing-scalable-components"><span class="octicon octicon-link"></span></a>Implementing Scalable Components</h4>
    <p><strong>Choose the right pattern based on how your component receives messages:</strong></p>
    <p><strong>Pattern 1: TinySignal-triggered control ports (like Signal)</strong></p>
    <p>Use when: Control port accepts configurable input that users may trigger via TinySignal.</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// Filter TinySignal broadcasts - only leader processes</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">if</span> <span class="token operator">!</span>utils<span class="token punctuation">.</span><span class="token function">IsLeader</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5"><span class="token comment">// Process command and update metadata</span>
</span><span class="code-line line-number" line="6"><span class="token function">handler</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> v1alpha1<span class="token punctuation">.</span>ReconcilePort<span class="token punctuation">,</span> v1alpha1<span class="token punctuation">.</span>MetadataConfigPatch<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    Metadata<span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"my-state"</span><span class="token punctuation">:</span> <span class="token string">"value"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="// Filter TinySignal broadcasts - only leader processes
if !utils.IsLeader(ctx) {
    return nil
}
// Process command and update metadata
handler(ctx, v1alpha1.ReconcilePort, v1alpha1.MetadataConfigPatch{
    Metadata: map[string]string{&#x22;my-state&#x22;: &#x22;value&#x22;},
})
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Pattern 2: gRPC-triggered ports (like HTTP Server)</strong></p>
    <p>Use when: Port receives messages via gRPC from other components (round-robin delivery).</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// Any pod can receive - process and update metadata</span>
</span><span class="code-line line-number" line="2"><span class="token comment">// Other pods will sync via ReconcilePort</span>
</span><span class="code-line line-number" line="3"><span class="token function">handler</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> v1alpha1<span class="token punctuation">.</span>ReconcilePort<span class="token punctuation">,</span> v1alpha1<span class="token punctuation">.</span>MetadataConfigPatch<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    Metadata<span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"my-state"</span><span class="token punctuation">:</span> <span class="token string">"value"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="// Any pod can receive - process and update metadata
// Other pods will sync via ReconcilePort
handler(ctx, v1alpha1.ReconcilePort, v1alpha1.MetadataConfigPatch{
    Metadata: map[string]string{&#x22;my-state&#x22;: &#x22;value&#x22;},
})
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Common: Sync state from ReconcilePort (all patterns)</strong></p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">case</span> v1alpha1<span class="token punctuation">.</span>ReconcilePort<span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">if</span> node<span class="token punctuation">,</span> ok <span class="token operator">:=</span> msg<span class="token punctuation">.</span><span class="token punctuation">(</span>v1alpha1<span class="token punctuation">.</span>TinyNode<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        c<span class="token punctuation">.</span>myState <span class="token operator">=</span> node<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Metadata<span class="token punctuation">[</span><span class="token string">"my-state"</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="4">        <span class="token comment">// Start/configure based on metadata if needed</span>
</span><span class="code-line line-number" line="5">    <span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="case v1alpha1.ReconcilePort:
    if node, ok := msg.(v1alpha1.TinyNode); ok {
        c.myState = node.Status.Metadata[&#x22;my-state&#x22;]
        // Start/configure based on metadata if needed
    }
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Common: Use metadata for consistent status display</strong></p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// Use metadata as source of truth for UI, not local state</span>
</span><span class="code-line line-number" line="2">isRunning <span class="token operator">:=</span> node<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Metadata<span class="token punctuation">[</span><span class="token string">"running"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"true"</span>
</span></code><div onclick="copied(this)" data-code="// Use metadata as source of truth for UI, not local state
isRunning := node.Status.Metadata[&#x22;running&#x22;] == &#x22;true&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="project-structure"><a class="anchor" aria-hidden="true" tabindex="-1" href="#project-structure"><span class="octicon octicon-link"></span></a>Project Structure</h3>
    <pre><code class="code-highlight"><span class="code-line line-number" line="1">.
</span><span class="code-line line-number" line="2">â”œâ”€â”€ api/v1alpha1/          # CRD definitions (TinyNode, TinyModule, TinyFlow, etc.)
</span><span class="code-line line-number" line="3">â”œâ”€â”€ module/                # Core SDK interfaces for component developers
</span><span class="code-line line-number" line="4">â”‚   â”œâ”€â”€ component.go       # Component interface
</span><span class="code-line line-number" line="5">â”‚   â”œâ”€â”€ node.go           # Port definitions
</span><span class="code-line line-number" line="6">â”‚   â””â”€â”€ handler.go        # Handler function type
</span><span class="code-line line-number" line="7">â”œâ”€â”€ pkg/                   # Reusable SDK packages
</span><span class="code-line line-number" line="8">â”‚   â”œâ”€â”€ resource/         # Kubernetes resource manager
</span><span class="code-line line-number" line="9">â”‚   â”œâ”€â”€ schema/           # JSON schema generator
</span><span class="code-line line-number" line="10">â”‚   â”œâ”€â”€ evaluator/        # JSONPath expression evaluator
</span><span class="code-line line-number" line="11">â”‚   â”œâ”€â”€ errors/           # Error handling utilities
</span><span class="code-line line-number" line="12">â”‚   â””â”€â”€ metrics/          # OpenTelemetry integration
</span><span class="code-line line-number" line="13">â”œâ”€â”€ internal/              # Internal operator implementation
</span><span class="code-line line-number" line="14">â”‚   â”œâ”€â”€ controller/       # Kubernetes controllers
</span><span class="code-line line-number" line="15">â”‚   â”œâ”€â”€ scheduler/        # Message routing and execution
</span><span class="code-line line-number" line="16">â”‚   â”œâ”€â”€ server/           # gRPC server
</span><span class="code-line line-number" line="17">â”‚   â””â”€â”€ client/           # gRPC client pool
</span><span class="code-line line-number" line="18">â”œâ”€â”€ cli/                   # Command-line tools (run, build)
</span><span class="code-line line-number" line="19">â”œâ”€â”€ registry/              # Component registration system
</span><span class="code-line line-number" line="20">â”œâ”€â”€ config/                # Kubernetes manifests and CRD definitions
</span><span class="code-line line-number" line="21">â”‚   â”œâ”€â”€ crd/              # CRD YAML files
</span><span class="code-line line-number" line="22">â”‚   â”œâ”€â”€ samples/          # Example resources
</span><span class="code-line line-number" line="23">â”‚   â””â”€â”€ rbac/             # RBAC configurations
</span><span class="code-line line-number" line="24">â””â”€â”€ charts/                # Helm charts for deployment
</span></code><div onclick="copied(this)" data-code=".
â”œâ”€â”€ api/v1alpha1/          # CRD definitions (TinyNode, TinyModule, TinyFlow, etc.)
â”œâ”€â”€ module/                # Core SDK interfaces for component developers
â”‚   â”œâ”€â”€ component.go       # Component interface
â”‚   â”œâ”€â”€ node.go           # Port definitions
â”‚   â””â”€â”€ handler.go        # Handler function type
â”œâ”€â”€ pkg/                   # Reusable SDK packages
â”‚   â”œâ”€â”€ resource/         # Kubernetes resource manager
â”‚   â”œâ”€â”€ schema/           # JSON schema generator
â”‚   â”œâ”€â”€ evaluator/        # JSONPath expression evaluator
â”‚   â”œâ”€â”€ errors/           # Error handling utilities
â”‚   â””â”€â”€ metrics/          # OpenTelemetry integration
â”œâ”€â”€ internal/              # Internal operator implementation
â”‚   â”œâ”€â”€ controller/       # Kubernetes controllers
â”‚   â”œâ”€â”€ scheduler/        # Message routing and execution
â”‚   â”œâ”€â”€ server/           # gRPC server
â”‚   â””â”€â”€ client/           # gRPC client pool
â”œâ”€â”€ cli/                   # Command-line tools (run, build)
â”œâ”€â”€ registry/              # Component registration system
â”œâ”€â”€ config/                # Kubernetes manifests and CRD definitions
â”‚   â”œâ”€â”€ crd/              # CRD YAML files
â”‚   â”œâ”€â”€ samples/          # Example resources
â”‚   â””â”€â”€ rbac/             # RBAC configurations
â””â”€â”€ charts/                # Helm charts for deployment
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="getting-started"><a class="anchor" aria-hidden="true" tabindex="-1" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>
    <p>
      Youâ€™ll need a Kubernetes cluster to run against. You can use <a href="https://sigs.k8s.io/kind">KIND</a> to get a local cluster for testing, or run against a remote cluster.
      <strong>Note:</strong> Your controller will automatically use the current context in your kubeconfig file (i.e. whatever cluster <code>kubectl cluster-info</code> shows).
    </p>
    <h2 id="helm-charts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#helm-charts"><span class="octicon octicon-link"></span></a>Helm charts</h2>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">helm repo <span class="token function">add</span> tinysystems https://tiny-systems.github.io/module/
</span><span class="code-line line-number" line="2">helm repo update <span class="token comment"># if you already added repo before</span>
</span><span class="code-line line-number" line="3">helm <span class="token function">install</span> my-corp-data-processing-tools <span class="token parameter variable">--set</span> <span class="token assign-left variable">controllerManager.manager.image.repository</span><span class="token operator">=</span>registry.mycorp/tools/data-processing  tinysystems/tinysystems-operator
</span></code><div onclick="copied(this)" data-code="helm repo add tinysystems https://tiny-systems.github.io/module/
helm repo update # if you already added repo before
helm install my-corp-data-processing-tools --set controllerManager.manager.image.repository=registry.mycorp/tools/data-processing  tinysystems/tinysystems-operator
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="running-on-the-cluster"><a class="anchor" aria-hidden="true" tabindex="-1" href="#running-on-the-cluster"><span class="octicon octicon-link"></span></a>Running on the cluster</h3>
    <ol>
      <li>Install Instances of Custom Resources:</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">kubectl apply <span class="token parameter variable">-f</span> config/samples/
</span></code><div onclick="copied(this)" data-code="kubectl apply -f config/samples/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="2">
      <li>Build and push your image to the location specified by <code>IMG</code>:</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> docker-build docker-push <span class="token assign-left variable">IMG</span><span class="token operator">=</span><span class="token operator">&#x3C;</span>some-registry<span class="token operator">></span>/operator:tag
</span></code><div onclick="copied(this)" data-code="make docker-build docker-push IMG=<some-registry>/operator:tag
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="3">
      <li>Deploy the controller to the cluster with the image specified by <code>IMG</code>:</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> deploy <span class="token assign-left variable">IMG</span><span class="token operator">=</span><span class="token operator">&#x3C;</span>some-registry<span class="token operator">></span>/operator:tag
</span></code><div onclick="copied(this)" data-code="make deploy IMG=<some-registry>/operator:tag
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="undeploy-controller"><a class="anchor" aria-hidden="true" tabindex="-1" href="#undeploy-controller"><span class="octicon octicon-link"></span></a>Undeploy controller</h3>
    <p>UnDeploy the controller from the cluster:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> undeploy
</span></code><div onclick="copied(this)" data-code="make undeploy
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="contributing"><a class="anchor" aria-hidden="true" tabindex="-1" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>
    <p>// TODO(user): Add detailed information on how you would like others to contribute to this project</p>
    <h3 id="how-it-works"><a class="anchor" aria-hidden="true" tabindex="-1" href="#how-it-works"><span class="octicon octicon-link"></span></a>How it works</h3>
    <p>This project aims to follow the Kubernetes <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator pattern</a>.</p>
    <p>
      It uses <a href="https://kubernetes.io/docs/concepts/architecture/controller/">Controllers</a>,
      which provide a reconcile function responsible for synchronizing resources until the desired state is reached on the cluster.
    </p>
    <h3 id="test-it-out"><a class="anchor" aria-hidden="true" tabindex="-1" href="#test-it-out"><span class="octicon octicon-link"></span></a>Test It Out</h3>
    <ol>
      <li>Install the CRDs into the cluster:</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> <span class="token function">install</span>
</span></code><div onclick="copied(this)" data-code="make install
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="2">
      <li>Run your controller (this will run in the foreground, so switch to a new terminal if you want to leave it running):</li>
    </ol>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> run
</span></code><div onclick="copied(this)" data-code="make run
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>NOTE:</strong> You can also run this in one step by running: <code>make install run</code></p>
    <h3 id="modifying-the-api-definitions"><a class="anchor" aria-hidden="true" tabindex="-1" href="#modifying-the-api-definitions"><span class="octicon octicon-link"></span></a>Modifying the API definitions</h3>
    <p>If you are editing the API definitions, generate the manifests such as CRs or CRDs using:</p>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">make</span> manifests
</span></code><div onclick="copied(this)" data-code="make manifests
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="create-new-api"><a class="anchor" aria-hidden="true" tabindex="-1" href="#create-new-api"><span class="octicon octicon-link"></span></a>Create new api</h3>
    <pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">kubebuilder create api <span class="token parameter variable">--group</span> operator <span class="token parameter variable">--version</span> v1alpha1 <span class="token parameter variable">--kind</span> TinySignal
</span></code><div onclick="copied(this)" data-code="kubebuilder create api --group operator --version v1alpha1 --kind TinySignal
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>NOTE:</strong> Run <code>make --help</code> for more information on all potential <code>make</code> targets</p>
    <p>More information can be found via the <a href="https://book.kubebuilder.io/introduction.html">Kubebuilder Documentation</a></p>
    <h3 id="module-development"><a class="anchor" aria-hidden="true" tabindex="-1" href="#module-development"><span class="octicon octicon-link"></span></a>Module Development</h3>
    <p>This SDK provides everything you need to build custom module operators. Here's a complete guide to developing your own module.</p>
    <h4 id="quick-start"><a class="anchor" aria-hidden="true" tabindex="-1" href="#quick-start"><span class="octicon octicon-link"></span></a>Quick Start</h4>
    <ol>
      <li><strong>Create a New Go Project</strong></li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">mkdir</span> my-module
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">cd</span> my-module
</span><span class="code-line line-number" line="3">go mod init github.com/myorg/my-module
</span></code><div onclick="copied(this)" data-code="mkdir my-module
cd my-module
go mod init github.com/myorg/my-module
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="2">
      <li><strong>Add SDK Dependency</strong></li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1">go get github.com/tiny-systems/module
</span></code><div onclick="copied(this)" data-code="go get github.com/tiny-systems/module
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="3">
      <li><strong>Implement a Component</strong></li>
    </ol>
    <p>Create <code>components/hello.go</code>:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> components
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    <span class="token string">"context"</span>
</span><span class="code-line line-number" line="5">    <span class="token string">"github.com/tiny-systems/module/module"</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token keyword">type</span> Hello <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment">// Configuration for the input port</span>
</span><span class="code-line line-number" line="11"><span class="token keyword">type</span> HelloInput <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    Name <span class="token builtin">string</span> <span class="token string">`json:"name" configurable:"true"`</span>
</span><span class="code-line line-number" line="13"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment">// Configuration for the output</span>
</span><span class="code-line line-number" line="16"><span class="token keyword">type</span> HelloOutput <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">    Greeting <span class="token builtin">string</span> <span class="token string">`json:"greeting" shared:"true"`</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20"><span class="token keyword">func</span> <span class="token punctuation">(</span>h <span class="token operator">*</span>Hello<span class="token punctuation">)</span> <span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> module<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">    <span class="token keyword">return</span> <span class="token operator">&#x26;</span>Hello<span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="22"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token keyword">func</span> <span class="token punctuation">(</span>h <span class="token operator">*</span>Hello<span class="token punctuation">)</span> <span class="token function">GetInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> module<span class="token punctuation">.</span>ComponentInfo <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="25">    <span class="token keyword">return</span> module<span class="token punctuation">.</span>ComponentInfo<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="26">        Name<span class="token punctuation">:</span>        <span class="token string">"hello"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="27">        Description<span class="token punctuation">:</span> <span class="token string">"Greets a person by name"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="28">        Info<span class="token punctuation">:</span>        <span class="token string">"Simple greeting component example"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="29">        Tags<span class="token punctuation">:</span>        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"example"</span><span class="token punctuation">,</span> <span class="token string">"greeting"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="30">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="31"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token keyword">func</span> <span class="token punctuation">(</span>h <span class="token operator">*</span>Hello<span class="token punctuation">)</span> <span class="token function">Ports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>module<span class="token punctuation">.</span>Port <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="34">    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>module<span class="token punctuation">.</span>Port<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="35">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="36">            Name<span class="token punctuation">:</span>          <span class="token string">"input"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="37">            Label<span class="token punctuation">:</span>         <span class="token string">"Input"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="38">            Source<span class="token punctuation">:</span>        <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// This is an input port</span>
</span><span class="code-line line-number" line="39">            Position<span class="token punctuation">:</span>      module<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="40">            Configuration<span class="token punctuation">:</span> <span class="token operator">&#x26;</span>HelloInput<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="41">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="42">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="43">            Name<span class="token punctuation">:</span>     <span class="token string">"output"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="44">            Label<span class="token punctuation">:</span>    <span class="token string">"Output"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="45">            Source<span class="token punctuation">:</span>   <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// This is an output port</span>
</span><span class="code-line line-number" line="46">            Position<span class="token punctuation">:</span> module<span class="token punctuation">.</span>Right<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="47">            Configuration<span class="token punctuation">:</span> <span class="token operator">&#x26;</span>HelloOutput<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="48">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="49">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="50">            Name<span class="token punctuation">:</span>     <span class="token string">"error"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="51">            Label<span class="token punctuation">:</span>    <span class="token string">"Error"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="52">            Source<span class="token punctuation">:</span>   <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="53">            Position<span class="token punctuation">:</span> module<span class="token punctuation">.</span>Bottom<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="54">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="55">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="56"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="57">
</span><span class="code-line line-number" line="58"><span class="token keyword">func</span> <span class="token punctuation">(</span>h <span class="token operator">*</span>Hello<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> message any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="59">    <span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">"input"</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="60">        <span class="token comment">// Parse input configuration</span>
</span><span class="code-line line-number" line="61">        input <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>HelloInput<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63">        <span class="token comment">// Create greeting</span>
</span><span class="code-line line-number" line="64">        greeting <span class="token operator">:=</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> input<span class="token punctuation">.</span>Name <span class="token operator">+</span> <span class="token string">"!"</span>
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66">        <span class="token comment">// Send to output port</span>
</span><span class="code-line line-number" line="67">        <span class="token function">output</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"output"</span><span class="token punctuation">,</span> <span class="token operator">&#x26;</span>HelloOutput<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="68">            Greeting<span class="token punctuation">:</span> greeting<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="69">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="70">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="71">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="72"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="package components

import (
    &#x22;context&#x22;
    &#x22;github.com/tiny-systems/module/module&#x22;
)

type Hello struct{}

// Configuration for the input port
type HelloInput struct {
    Name string &#x60;json:&#x22;name&#x22; configurable:&#x22;true&#x22;&#x60;
}

// Configuration for the output
type HelloOutput struct {
    Greeting string &#x60;json:&#x22;greeting&#x22; shared:&#x22;true&#x22;&#x60;
}

func (h *Hello) Instance() module.Component {
    return &#x26;Hello{}
}

func (h *Hello) GetInfo() module.ComponentInfo {
    return module.ComponentInfo{
        Name:        &#x22;hello&#x22;,
        Description: &#x22;Greets a person by name&#x22;,
        Info:        &#x22;Simple greeting component example&#x22;,
        Tags:        []string{&#x22;example&#x22;, &#x22;greeting&#x22;},
    }
}

func (h *Hello) Ports() []module.Port {
    return []module.Port{
        {
            Name:          &#x22;input&#x22;,
            Label:         &#x22;Input&#x22;,
            Source:        false, // This is an input port
            Position:      module.Left,
            Configuration: &#x26;HelloInput{},
        },
        {
            Name:     &#x22;output&#x22;,
            Label:    &#x22;Output&#x22;,
            Source:   true, // This is an output port
            Position: module.Right,
            Configuration: &#x26;HelloOutput{},
        },
        {
            Name:     &#x22;error&#x22;,
            Label:    &#x22;Error&#x22;,
            Source:   true,
            Position: module.Bottom,
        },
    }
}

func (h *Hello) Handle(ctx context.Context, output module.Handler, port string, message any) any {
    if port == &#x22;input&#x22; {
        // Parse input configuration
        input := message.(*HelloInput)

        // Create greeting
        greeting := &#x22;Hello, &#x22; + input.Name + &#x22;!&#x22;

        // Send to output port
        output(ctx, &#x22;output&#x22;, &#x26;HelloOutput{
            Greeting: greeting,
        })
    }
    return nil
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="4">
      <li><strong>Register Component and Create Main</strong></li>
    </ol>
    <p>Create <code>main.go</code>:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> main
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    <span class="token string">"github.com/myorg/my-module/components"</span>
</span><span class="code-line line-number" line="5">    <span class="token string">"github.com/tiny-systems/module/cli"</span>
</span><span class="code-line line-number" line="6">    <span class="token string">"github.com/tiny-systems/module/registry"</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token comment">// Register all components</span>
</span><span class="code-line line-number" line="11">    registry<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span>components<span class="token punctuation">.</span>Hello<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13">    <span class="token comment">// Run the operator</span>
</span><span class="code-line line-number" line="14">    cli<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="package main

import (
    &#x22;github.com/myorg/my-module/components&#x22;
    &#x22;github.com/tiny-systems/module/cli&#x22;
    &#x22;github.com/tiny-systems/module/registry&#x22;
)

func main() {
    // Register all components
    registry.Register(&#x26;components.Hello{})

    // Run the operator
    cli.Run()
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="5">
      <li><strong>Run Your Module</strong></li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Build</span>
</span><span class="code-line line-number" line="2">go build <span class="token parameter variable">-o</span> my-module
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Run locally (connects to your current kubectl context)</span>
</span><span class="code-line line-number" line="5">./my-module run <span class="token parameter variable">--name</span><span class="token operator">=</span>my-module <span class="token parameter variable">--version</span><span class="token operator">=</span><span class="token number">1.0</span>.0 <span class="token parameter variable">--namespace</span><span class="token operator">=</span>tinysystems
</span></code><div onclick="copied(this)" data-code="# Build
go build -o my-module

# Run locally (connects to your current kubectl context)
./my-module run --name=my-module --version=1.0.0 --namespace=tinysystems
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ol start="6">
      <li><strong>Deploy to Kubernetes</strong></li>
    </ol>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Build and push Docker image</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> myregistry/my-module:1.0.0 <span class="token builtin class-name">.</span>
</span><span class="code-line line-number" line="3"><span class="token function">docker</span> push myregistry/my-module:1.0.0
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># Install using Helm</span>
</span><span class="code-line line-number" line="6">helm repo <span class="token function">add</span> tinysystems https://tiny-systems.github.io/module/
</span><span class="code-line line-number" line="7">helm <span class="token function">install</span> my-module <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">--set</span> <span class="token assign-left variable">controllerManager.manager.image.repository</span><span class="token operator">=</span>myregistry/my-module <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">--set</span> <span class="token assign-left variable">controllerManager.manager.image.tag</span><span class="token operator">=</span><span class="token number">1.0</span>.0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10">  tinysystems/tinysystems-operator
</span></code><div onclick="copied(this)" data-code="# Build and push Docker image
docker build -t myregistry/my-module:1.0.0 .
docker push myregistry/my-module:1.0.0

# Install using Helm
helm repo add tinysystems https://tiny-systems.github.io/module/
helm install my-module \
  --set controllerManager.manager.image.repository=myregistry/my-module \
  --set controllerManager.manager.image.tag=1.0.0 \
  tinysystems/tinysystems-operator
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="component-interface-deep-dive"><a class="anchor" aria-hidden="true" tabindex="-1" href="#component-interface-deep-dive"><span class="octicon octicon-link"></span></a>Component Interface Deep Dive</h4>
    <h5 id="getinfo---component-metadata"><a class="anchor" aria-hidden="true" tabindex="-1" href="#getinfo---component-metadata"><span class="octicon octicon-link"></span></a>GetInfo() - Component Metadata</h5>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">GetInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> module<span class="token punctuation">.</span>ComponentInfo <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">return</span> module<span class="token punctuation">.</span>ComponentInfo<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        Name<span class="token punctuation">:</span>        <span class="token string">"my-component"</span><span class="token punctuation">,</span>      <span class="token comment">// Unique identifier</span>
</span><span class="code-line line-number" line="4">        Description<span class="token punctuation">:</span> <span class="token string">"Does something"</span><span class="token punctuation">,</span>     <span class="token comment">// Short description</span>
</span><span class="code-line line-number" line="5">        Info<span class="token punctuation">:</span>        <span class="token string">"Detailed info..."</span><span class="token punctuation">,</span>   <span class="token comment">// Long description</span>
</span><span class="code-line line-number" line="6">        Tags<span class="token punctuation">:</span>        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"tag1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// Searchable tags</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="func (c *MyComponent) GetInfo() module.ComponentInfo {
    return module.ComponentInfo{
        Name:        &#x22;my-component&#x22;,      // Unique identifier
        Description: &#x22;Does something&#x22;,     // Short description
        Info:        &#x22;Detailed info...&#x22;,   // Long description
        Tags:        []string{&#x22;tag1&#x22;},     // Searchable tags
    }
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="ports---define-component-ports"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ports---define-component-ports"><span class="octicon octicon-link"></span></a>Ports() - Define Component Ports</h5>
    <p>Ports define how components connect to each other:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Ports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>module<span class="token punctuation">.</span>Port <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>module<span class="token punctuation">.</span>Port<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">            Name<span class="token punctuation">:</span>          <span class="token string">"input"</span><span class="token punctuation">,</span>           <span class="token comment">// Unique port name</span>
</span><span class="code-line line-number" line="5">            Label<span class="token punctuation">:</span>         <span class="token string">"Input Data"</span><span class="token punctuation">,</span>      <span class="token comment">// Display label</span>
</span><span class="code-line line-number" line="6">            Source<span class="token punctuation">:</span>        <span class="token boolean">false</span><span class="token punctuation">,</span>             <span class="token comment">// Input port</span>
</span><span class="code-line line-number" line="7">            Position<span class="token punctuation">:</span>      module<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>       <span class="token comment">// Visual position</span>
</span><span class="code-line line-number" line="8">            Configuration<span class="token punctuation">:</span> <span class="token operator">&#x26;</span>InputConfig<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Expected data structure</span>
</span><span class="code-line line-number" line="9">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="10">        <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">            Name<span class="token punctuation">:</span>              <span class="token string">"output"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">            Label<span class="token punctuation">:</span>             <span class="token string">"Output Data"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">            Source<span class="token punctuation">:</span>            <span class="token boolean">true</span><span class="token punctuation">,</span>          <span class="token comment">// Output port</span>
</span><span class="code-line line-number" line="14">            Position<span class="token punctuation">:</span>          module<span class="token punctuation">.</span>Right<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="15">            Configuration<span class="token punctuation">:</span>     <span class="token operator">&#x26;</span>OutputConfig<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Output data structure</span>
</span><span class="code-line line-number" line="16">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="17">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="func (c *MyComponent) Ports() []module.Port {
    return []module.Port{
        {
            Name:          &#x22;input&#x22;,           // Unique port name
            Label:         &#x22;Input Data&#x22;,      // Display label
            Source:        false,             // Input port
            Position:      module.Left,       // Visual position
            Configuration: &#x26;InputConfig{},    // Expected data structure
        },
        {
            Name:              &#x22;output&#x22;,
            Label:             &#x22;Output Data&#x22;,
            Source:            true,          // Output port
            Position:          module.Right,
            Configuration:     &#x26;OutputConfig{}, // Output data structure
        },
    }
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Port Positions</strong>: <code>module.Top</code>, <code>module.Right</code>, <code>module.Bottom</code>, <code>module.Left</code></p>
    <h5 id="handle---process-messages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#handle---process-messages"><span class="octicon octicon-link"></span></a>Handle() - Process Messages</h5>
    <p>The <code>Handle</code> method is called when a message arrives on a port:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">    ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">    output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">    port <span class="token builtin">string</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">    message any<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">switch</span> port <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">    <span class="token keyword">case</span> <span class="token string">"input"</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="9">        <span class="token comment">// Type assert the message</span>
</span><span class="code-line line-number" line="10">        input <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>InputConfig<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">        <span class="token comment">// Do work</span>
</span><span class="code-line line-number" line="13">        result <span class="token operator">:=</span> <span class="token function">processData</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15">        <span class="token comment">// Send to output port</span>
</span><span class="code-line line-number" line="16">        <span class="token function">output</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"output"</span><span class="token punctuation">,</span> <span class="token operator">&#x26;</span>OutputConfig<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">            Result<span class="token punctuation">:</span> result<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="18">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">    <span class="token keyword">case</span> <span class="token string">"_reconcile"</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="21">        <span class="token comment">// Handle reconciliation (called periodically)</span>
</span><span class="code-line line-number" line="22">        <span class="token comment">// Use this for cleanup, state sync, etc.</span>
</span><span class="code-line line-number" line="23">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="26"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="func (c *MyComponent) Handle(
    ctx context.Context,
    output module.Handler,
    port string,
    message any,
) any {
    switch port {
    case &#x22;input&#x22;:
        // Type assert the message
        input := message.(*InputConfig)

        // Do work
        result := processData(input)

        // Send to output port
        output(ctx, &#x22;output&#x22;, &#x26;OutputConfig{
            Result: result,
        })

    case &#x22;_reconcile&#x22;:
        // Handle reconciliation (called periodically)
        // Use this for cleanup, state sync, etc.
    }

    return nil
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Key Points</strong>:</p>
    <ul>
      <li><code>ctx</code>: Context with tracing span and cancellation</li>
      <li><code>output</code>: Callback function to send data to other ports</li>
      <li><code>port</code>: Name of the port that received the message</li>
      <li><code>message</code>: The actual data (type assert to your config struct)</li>
      <li>Return value is currently unused</li>
    </ul>
    <h4 id="configuration-schemas"><a class="anchor" aria-hidden="true" tabindex="-1" href="#configuration-schemas"><span class="octicon octicon-link"></span></a>Configuration Schemas</h4>
    <p>The SDK automatically generates JSON Schemas from your Go structs. Use struct tags to control the UI:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> Config <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token comment">// Basic field</span>
</span><span class="code-line line-number" line="3">    Name <span class="token builtin">string</span> <span class="token string">`json:"name"`</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5">    <span class="token comment">// Configurable in UI (can reference other node outputs)</span>
</span><span class="code-line line-number" line="6">    UserID <span class="token builtin">string</span> <span class="token string">`json:"userId" configurable:"true"`</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">    <span class="token comment">// Shared definition (other nodes can reference this)</span>
</span><span class="code-line line-number" line="9">    Result <span class="token builtin">string</span> <span class="token string">`json:"result" shared:"true"`</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">    <span class="token comment">// Control UI layout</span>
</span><span class="code-line line-number" line="12">    APIKey <span class="token builtin">string</span> <span class="token string">`json:"apiKey" propertyOrder:"1" tab:"auth"`</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">    <span class="token comment">// Nested object</span>
</span><span class="code-line line-number" line="15">    Settings <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="16">        Timeout <span class="token builtin">int</span> <span class="token string">`json:"timeout" configurable:"true"`</span>
</span><span class="code-line line-number" line="17">    <span class="token punctuation">}</span> <span class="token string">`json:"settings"`</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">    <span class="token comment">// Array</span>
</span><span class="code-line line-number" line="20">    Items <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:"items" configurable:"true"`</span>
</span><span class="code-line line-number" line="21"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="type Config struct {
    // Basic field
    Name string &#x60;json:&#x22;name&#x22;&#x60;

    // Configurable in UI (can reference other node outputs)
    UserID string &#x60;json:&#x22;userId&#x22; configurable:&#x22;true&#x22;&#x60;

    // Shared definition (other nodes can reference this)
    Result string &#x60;json:&#x22;result&#x22; shared:&#x22;true&#x22;&#x60;

    // Control UI layout
    APIKey string &#x60;json:&#x22;apiKey&#x22; propertyOrder:&#x22;1&#x22; tab:&#x22;auth&#x22;&#x60;

    // Nested object
    Settings struct {
        Timeout int &#x60;json:&#x22;timeout&#x22; configurable:&#x22;true&#x22;&#x60;
    } &#x60;json:&#x22;settings&#x22;&#x60;

    // Array
    Items []string &#x60;json:&#x22;items&#x22; configurable:&#x22;true&#x22;&#x60;
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Struct Tags</strong>:</p>
    <ul>
      <li><code>configurable:"true"</code>: Field can accept values from other nodes via <code>{{expression}}</code> syntax</li>
      <li><code>shared:"true"</code>: Field definition is available to other nodes for type-safe mapping</li>
      <li><code>propertyOrder:"N"</code>: Controls field order in UI</li>
      <li><code>tab:"name"</code>: Groups field under a tab in UI</li>
      <li><code>align:"horizontal"</code>: Layout hint for UI</li>
    </ul>
    <h4 id="system-ports"><a class="anchor" aria-hidden="true" tabindex="-1" href="#system-ports"><span class="octicon octicon-link"></span></a>System Ports</h4>
    <p>Special ports available to all components:</p>
    <h5 id="_reconcile-port"><a class="anchor" aria-hidden="true" tabindex="-1" href="#_reconcile-port"><span class="octicon octicon-link"></span></a><code>_reconcile</code> Port</h5>
    <p>Called periodically (every 5 minutes) and on node changes:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">case</span> <span class="token string">"_reconcile"</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">    <span class="token comment">// Clean up resources</span>
</span><span class="code-line line-number" line="3">    <span class="token comment">// Sync state</span>
</span><span class="code-line line-number" line="4">    <span class="token comment">// Check for drift</span>
</span></code><div onclick="copied(this)" data-code="case &#x22;_reconcile&#x22;:
    // Clean up resources
    // Sync state
    // Check for drift
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="_client-port"><a class="anchor" aria-hidden="true" tabindex="-1" href="#_client-port"><span class="octicon octicon-link"></span></a><code>_client</code> Port</h5>
    <p>Provides Kubernetes client for resource operations:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">case</span> <span class="token string">"_client"</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">    client <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span>resource<span class="token punctuation">.</span>Manager<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">    <span class="token comment">// Create a signal</span>
</span><span class="code-line line-number" line="5">    client<span class="token punctuation">.</span><span class="token function">CreateSignal</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> resource<span class="token punctuation">.</span>CreateSignalRequest<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">        Node<span class="token punctuation">:</span> <span class="token string">"target-node"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">        Port<span class="token punctuation">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        Data<span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span> <span class="token string">"value"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10">    
</span><span class="code-line line-number" line="11">    <span class="token comment">// Get node information</span>
</span><span class="code-line line-number" line="12">    node<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">GetNode</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"node-name"</span><span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="case &#x22;_client&#x22;:
    client := message.(resource.Manager)

    // Create a signal
    client.CreateSignal(ctx, resource.CreateSignalRequest{
        Node: &#x22;target-node&#x22;,
        Port: &#x22;input&#x22;,
        Data: map[string]any{&#x22;key&#x22;: &#x22;value&#x22;},
    })
    
    // Get node information
    node, err := client.GetNode(ctx, &#x22;node-name&#x22;)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="_settings-port"><a class="anchor" aria-hidden="true" tabindex="-1" href="#_settings-port"><span class="octicon octicon-link"></span></a><code>_settings</code> Port</h5>
    <p>Receives initial configuration (no "from" connection required):</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">case</span> <span class="token string">"_settings"</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">    settings <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>MyConfig<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">    <span class="token comment">// Store settings for later use</span>
</span></code><div onclick="copied(this)" data-code="case &#x22;_settings&#x22;:
    settings := message.(*MyConfig)
    // Store settings for later use
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="error-handling"><a class="anchor" aria-hidden="true" tabindex="-1" href="#error-handling"><span class="octicon octicon-link"></span></a>Error Handling</h4>
    <h5 id="transient-errors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#transient-errors"><span class="octicon octicon-link"></span></a>Transient Errors</h5>
    <p>Return regular errors for automatic retry with exponential backoff:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> msg any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    data<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">fetchFromAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">        <span class="token comment">// Will retry automatically</span>
</span><span class="code-line line-number" line="5">        <span class="token keyword">return</span> err
</span><span class="code-line line-number" line="6">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">    <span class="token comment">// ...</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="func (c *MyComponent) Handle(ctx context.Context, output module.Handler, port string, msg any) any {
    data, err := fetchFromAPI()
    if err != nil {
        // Will retry automatically
        return err
    }
    // ...
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="permanent-errors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#permanent-errors"><span class="octicon octicon-link"></span></a>Permanent Errors</h5>
    <p>Use <code>PermanentError</code> to stop retries:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token string">"github.com/tiny-systems/module/pkg/errors"</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> msg any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">isValid</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        <span class="token comment">// Won't retry - send to error port instead</span>
</span><span class="code-line line-number" line="6">        <span class="token function">output</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"error"</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span>PermanentError<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">            Err<span class="token punctuation">:</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"invalid input"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">        <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">    <span class="token comment">// ...</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="import &#x22;github.com/tiny-systems/module/pkg/errors&#x22;

func (c *MyComponent) Handle(ctx context.Context, output module.Handler, port string, msg any) any {
    if !isValid(msg) {
        // Won&#x27;t retry - send to error port instead
        output(ctx, &#x22;error&#x22;, errors.PermanentError{
            Err: fmt.Errorf(&#x22;invalid input&#x22;),
        })
        return nil
    }
    // ...
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="using-the-resource-manager"><a class="anchor" aria-hidden="true" tabindex="-1" href="#using-the-resource-manager"><span class="octicon octicon-link"></span></a>Using the Resource Manager</h4>
    <p>Access Kubernetes resources from your component:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token string">"github.com/tiny-systems/module/pkg/resource"</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> msg any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">"_client"</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        c<span class="token punctuation">.</span>client <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token punctuation">(</span>resource<span class="token punctuation">.</span>Manager<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">        <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">    <span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">"create-flow"</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">        <span class="token comment">// Create a new flow</span>
</span><span class="code-line line-number" line="11">        flow<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">CreateFlow</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> resource<span class="token punctuation">.</span>CreateFlowRequest<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">            Name<span class="token punctuation">:</span>    <span class="token string">"dynamic-flow"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">            Project<span class="token punctuation">:</span> <span class="token string">"my-project"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">        <span class="token comment">// Create nodes in the flow</span>
</span><span class="code-line line-number" line="17">        node<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">CreateNode</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> resource<span class="token punctuation">.</span>CreateNodeRequest<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">            Name<span class="token punctuation">:</span>      <span class="token string">"node-1"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="19">            Flow<span class="token punctuation">:</span>      flow<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="20">            Module<span class="token punctuation">:</span>    <span class="token string">"http-module"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="21">            Component<span class="token punctuation">:</span> <span class="token string">"request"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="22">            Settings<span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">                <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://api.example.com"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="24">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="25">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27">        <span class="token comment">// Trigger the node</span>
</span><span class="code-line line-number" line="28">        c<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">CreateSignal</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> resource<span class="token punctuation">.</span>CreateSignalRequest<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="29">            Node<span class="token punctuation">:</span> node<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="30">            Port<span class="token punctuation">:</span> <span class="token string">"trigger"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="31">            Data<span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>any<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="32">        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="33">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="36"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="import &#x22;github.com/tiny-systems/module/pkg/resource&#x22;

func (c *MyComponent) Handle(ctx context.Context, output module.Handler, port string, msg any) any {
    if port == &#x22;_client&#x22; {
        c.client = msg.(resource.Manager)
        return nil
    }

    if port == &#x22;create-flow&#x22; {
        // Create a new flow
        flow, err := c.client.CreateFlow(ctx, resource.CreateFlowRequest{
            Name:    &#x22;dynamic-flow&#x22;,
            Project: &#x22;my-project&#x22;,
        })

        // Create nodes in the flow
        node, err := c.client.CreateNode(ctx, resource.CreateNodeRequest{
            Name:      &#x22;node-1&#x22;,
            Flow:      flow.Name,
            Module:    &#x22;http-module&#x22;,
            Component: &#x22;request&#x22;,
            Settings: map[string]any{
                &#x22;url&#x22;: &#x22;https://api.example.com&#x22;,
            },
        })

        // Trigger the node
        c.client.CreateSignal(ctx, resource.CreateSignalRequest{
            Node: node.Name,
            Port: &#x22;trigger&#x22;,
            Data: map[string]any{},
        })
    }

    return nil
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="observability"><a class="anchor" aria-hidden="true" tabindex="-1" href="#observability"><span class="octicon octicon-link"></span></a>Observability</h4>
    <p>OpenTelemetry is built-in. The context includes a span:</p>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">import</span> <span class="token string">"go.opentelemetry.io/otel"</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>MyComponent<span class="token punctuation">)</span> <span class="token function">Handle</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> output module<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> msg any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token comment">// Get tracer</span>
</span><span class="code-line line-number" line="5">    tracer <span class="token operator">:=</span> otel<span class="token punctuation">.</span><span class="token function">Tracer</span><span class="token punctuation">(</span><span class="token string">"my-module"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">    <span class="token comment">// Create child span</span>
</span><span class="code-line line-number" line="8">    ctx<span class="token punctuation">,</span> span <span class="token operator">:=</span> tracer<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"processing"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">defer</span> span<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">    <span class="token comment">// Add attributes</span>
</span><span class="code-line line-number" line="12">    span<span class="token punctuation">.</span><span class="token function">SetAttributes</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="13">        attribute<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"input.size"</span><span class="token punctuation">,</span> <span class="token string">"large"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">)</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">    <span class="token comment">// Do work...</span>
</span><span class="code-line line-number" line="17">    result <span class="token operator">:=</span> <span class="token function">doWork</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">    <span class="token function">output</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"output"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="20">    <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="21"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="import &#x22;go.opentelemetry.io/otel&#x22;

func (c *MyComponent) Handle(ctx context.Context, output module.Handler, port string, msg any) any {
    // Get tracer
    tracer := otel.Tracer(&#x22;my-module&#x22;)

    // Create child span
    ctx, span := tracer.Start(ctx, &#x22;processing&#x22;)
    defer span.End()

    // Add attributes
    span.SetAttributes(
        attribute.String(&#x22;input.size&#x22;, &#x22;large&#x22;),
    )

    // Do work...
    result := doWork(ctx)

    output(ctx, &#x22;output&#x22;, result)
    return nil
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="testing-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#testing-components"><span class="octicon octicon-link"></span></a>Testing Components</h4>
    <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> components_test
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="4">    <span class="token string">"context"</span>
</span><span class="code-line line-number" line="5">    <span class="token string">"testing"</span>
</span><span class="code-line line-number" line="6">    <span class="token string">"github.com/myorg/my-module/components"</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token keyword">func</span> <span class="token function">TestHello</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    component <span class="token operator">:=</span> <span class="token operator">&#x26;</span>components<span class="token punctuation">.</span>Hello<span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">    <span class="token keyword">var</span> outputData <span class="token operator">*</span>components<span class="token punctuation">.</span>HelloOutput
</span><span class="code-line line-number" line="13">    outputHandler <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> port <span class="token builtin">string</span><span class="token punctuation">,</span> data any<span class="token punctuation">)</span> any <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">        <span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">"output"</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">            outputData <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>components<span class="token punctuation">.</span>HelloOutput<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="16">        <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">        <span class="token keyword">return</span> <span class="token boolean">nil</span>
</span><span class="code-line line-number" line="18">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">    <span class="token comment">// Send message to input port</span>
</span><span class="code-line line-number" line="21">    component<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outputHandler<span class="token punctuation">,</span> <span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token operator">&#x26;</span>components<span class="token punctuation">.</span>HelloInput<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="22">        Name<span class="token punctuation">:</span> <span class="token string">"World"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="23">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25">    <span class="token comment">// Verify output</span>
</span><span class="code-line line-number" line="26">    <span class="token keyword">if</span> outputData<span class="token punctuation">.</span>Greeting <span class="token operator">!=</span> <span class="token string">"Hello, World!"</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">        t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"Expected 'Hello, World!', got '%s'"</span><span class="token punctuation">,</span> outputData<span class="token punctuation">.</span>Greeting<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="28">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29"><span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="package components_test

import (
    &#x22;context&#x22;
    &#x22;testing&#x22;
    &#x22;github.com/myorg/my-module/components&#x22;
)

func TestHello(t *testing.T) {
    component := &#x26;components.Hello{}

    var outputData *components.HelloOutput
    outputHandler := func(ctx context.Context, port string, data any) any {
        if port == &#x22;output&#x22; {
            outputData = data.(*components.HelloOutput)
        }
        return nil
    }

    // Send message to input port
    component.Handle(context.Background(), outputHandler, &#x22;input&#x22;, &#x26;components.HelloInput{
        Name: &#x22;World&#x22;,
    })

    // Verify output
    if outputData.Greeting != &#x22;Hello, World!&#x22; {
        t.Errorf(&#x22;Expected &#x27;Hello, World!&#x27;, got &#x27;%s&#x27;&#x22;, outputData.Greeting)
    }
}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="best-practices"><a class="anchor" aria-hidden="true" tabindex="-1" href="#best-practices"><span class="octicon octicon-link"></span></a>Best Practices</h4>
    <ol>
      <li><strong>Keep Components Focused</strong>: Each component should do one thing well</li>
      <li><strong>Use System Ports</strong>: Implement <code>_reconcile</code> for cleanup and state sync</li>
      <li><strong>Handle Context Cancellation</strong>: Respect <code>ctx.Done()</code> for graceful shutdown</li>
      <li><strong>Leverage Schemas</strong>: Use struct tags to create great UI experiences</li>
      <li><strong>Share Definitions</strong>: Mark output fields as <code>shared:true</code> for type-safe flows</li>
      <li><strong>Use Permanent Errors</strong>: Don't retry validation errors or user mistakes</li>
      <li><strong>Add Observability</strong>: Create spans for long operations</li>
      <li><strong>Document with Tags</strong>: Use meaningful tags in <code>GetInfo()</code> for discoverability</li>
    </ol>
    <h4 id="example-modules"><a class="anchor" aria-hidden="true" tabindex="-1" href="#example-modules"><span class="octicon octicon-link"></span></a>Example Modules</h4>
    <p>Check out these example modules for reference:</p>
    <ul>
      <li><strong>common-module</strong>: Basic utilities (delay, switch, merge)</li>
      <li><strong>http-module</strong>: HTTP client/server components</li>
      <li><strong>grpc-module</strong>: gRPC service components</li>
    </ul>
    <h4 id="cli-reference"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cli-reference"><span class="octicon octicon-link"></span></a>CLI Reference</h4>
    <p>The SDK includes a CLI for running and building modules:</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Run module locally</span>
</span><span class="code-line line-number" line="2">./my-module run <span class="token parameter variable">--name</span><span class="token operator">=</span>my-module <span class="token parameter variable">--version</span><span class="token operator">=</span><span class="token number">1.0</span>.0 <span class="token parameter variable">--namespace</span><span class="token operator">=</span>tinysystems
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Build (if custom build logic is needed)</span>
</span><span class="code-line line-number" line="5">./my-module build
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Get help</span>
</span><span class="code-line line-number" line="8">./my-module <span class="token parameter variable">--help</span>
</span></code><div onclick="copied(this)" data-code="# Run module locally
./my-module run --name=my-module --version=1.0.0 --namespace=tinysystems

# Build (if custom build logic is needed)
./my-module build

# Get help
./my-module --help
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h2 id="license"><a class="anchor" aria-hidden="true" tabindex="-1" href="#license"><span class="octicon octicon-link"></span></a>License</h2>
    <p>Copyright 2026 Tiny Systems Limited. All rights reserved.</p>
    <p>This project is licensed under the <a href="LICENSE">Business Source License 1.1</a>.</p>
    <p><strong>Key terms:</strong></p>
    <ul>
      <li>Free for production and non-production use</li>
      <li>Not permitted: offering this software as a managed service, cloud service, or SaaS</li>
      <li>Converts to Apache License 2.0 on January 11, 2031</li>
    </ul>
    <p>For commercial licensing inquiries, contact Tiny Systems Limited.</p>
  <style>markdown-style pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
markdown-style pre .copied:not(.active) {
  visibility: hidden;
}
markdown-style pre:hover .copied {
  visibility: visible;
}
markdown-style pre:hover .copied:hover {
  background: #4caf50;
  color: #fff;
}
markdown-style pre:hover .copied:active,
markdown-style pre .copied.active {
  background: #2e9b33;
  color: #fff;
}
markdown-style pre .copied .octicon-copy {
  display: block;
}
markdown-style pre .copied .octicon-check {
  display: none;
}
markdown-style pre .active .octicon-copy {
  display: none;
}
markdown-style pre .active .octicon-check {
  display: block;
}</style><script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script></markdown-style></body>
</html>
